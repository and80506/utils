{"version":3,"file":"utils.js","sources":["../../src/device.ts","../../node_modules/tslib/tslib.es6.js","../../src/util.ts","../../src/dom.ts","../../src/http.ts"],"sourcesContent":["export function getUserAgent() {\n    return window.navigator.userAgent;\n}\nexport function isDevice(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    if (ua.match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)) {\n        return true;\n    }\n    return false;\n}\nexport function isWebView() {\n    var userAgent = window.navigator.userAgent;\n    return (/(iPhone|iPod|iPad|Macintosh).*AppleWebKit(?!.*Safari)/i.test(userAgent) ||\n        /\\bwv\\b/.test(userAgent) ||\n        /Android.*Version\\/(\\d)\\.(\\d)/i.test(userAgent));\n}\nexport function isOperaMini(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return ua.indexOf('Opera Mini') > -1;\n}\nexport function isAndroid(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return /Android/.test(ua);\n}\nexport function isIos(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return /iPhone|iPod|iPad/.test(ua);\n}\nexport function isQQBrowser(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return /QQBrowser/.test(ua);\n}\nexport function isIosWebview(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    if (isIos(ua)) {\n        return /.+AppleWebKit(?!.*Safari)/.test(ua);\n    }\n    return false;\n}\nexport function isAndroidWebview(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    if (isAndroid(ua)) {\n        return /Version\\/[\\d.]+/.test(ua) && !isOperaMini(ua);\n    }\n    return false;\n}\nexport function isIE() {\n    if (window.document.documentMode) {\n        return true;\n    }\n    return Boolean(window.navigator &&\n        window.navigator.userAgent &&\n        /Edge|MSIE|rv:11/i.test(window.navigator.userAgent));\n}\nexport function isIECompHeader() {\n    var mHttp = window.document.querySelector('meta[http-equiv=\"X-UA-Compatible\"]');\n    var mContent = window.document.querySelector('meta[content=\"IE=edge\"]');\n    if (mHttp && mContent) {\n        return true;\n    }\n    return false;\n}\nexport function isElectron() {\n    if (typeof process !== 'undefined' && process.versions && process.versions.electron) {\n        return true;\n    }\n    return false;\n}\nexport function isIEIntranet() {\n    if (window.document.documentMode) {\n        try {\n            var status_1 = window.status;\n            window.status = 'testIntranetMode';\n            if (window.status === 'testIntranetMode') {\n                window.status = status_1;\n                return true;\n            }\n            return false;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    return false;\n}\nexport function isMacOsCna() {\n    var userAgent = getUserAgent();\n    return /Macintosh.*AppleWebKit(?!.*Safari)/i.test(userAgent);\n}\nexport function isChrome(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return /Chrome|Chromium|CriOS/.test(ua);\n}\nexport function isSafari(ua) {\n    if (ua === void 0) { ua = getUserAgent(); }\n    return /Safari/.test(ua) && !isChrome(ua);\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __extends, __read, __spread, __values } from \"tslib\";\nexport function getFunctionName(fn) {\n    return fn.name || fn.__name__ || fn.displayName || 'anonymous';\n}\nexport function setFunctionName(fn, name) {\n    try {\n        delete fn.name;\n        fn.name = name;\n    }\n    catch (err) {\n    }\n    fn.__name__ = fn.displayName = name;\n    return fn;\n}\nexport function base64encode(str) {\n    if (typeof btoa === 'function') {\n        return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (m, p1) {\n            return String.fromCharCode(parseInt(p1, 16));\n        }));\n    }\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str, 'utf8').toString('base64');\n    }\n    throw new Error(\"Can not find window.btoa or Buffer\");\n}\nexport function base64decode(str) {\n    if (typeof atob === 'function') {\n        return decodeURIComponent(Array.prototype.map\n            .call(atob(str), function (c) {\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        })\n            .join(''));\n    }\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str, 'base64').toString('utf8');\n    }\n    throw new Error(\"Can not find window.atob or Buffer\");\n}\nexport function uniqueID() {\n    var chars = '0123456789abcdef';\n    var randomID = 'xxxxxxxxxx'.replace(/./g, function () {\n        return chars.charAt(Math.floor(Math.random() * chars.length));\n    });\n    var timeID = base64encode(new Date().toISOString().slice(11, 19).replace('T', '.'))\n        .replace(/[^a-zA-Z0-9]/g, '')\n        .toLowerCase();\n    return randomID + \"_\" + timeID;\n}\nvar objectIDs;\nexport function getObjectID(obj) {\n    objectIDs = objectIDs || new WeakMap();\n    if (obj === null || obj === undefined || (typeof obj !== 'object' && typeof obj !== 'function')) {\n        throw new Error(\"Invalid object\");\n    }\n    var uid = objectIDs.get(obj);\n    if (!uid) {\n        uid = typeof obj + \":\" + uniqueID();\n        objectIDs.set(obj, uid);\n    }\n    return uid;\n}\nfunction serializeArgs(args) {\n    try {\n        return JSON.stringify(Array.prototype.slice.call(args), function (subkey, val) {\n            if (typeof val === 'function') {\n                return \"memoize[\" + getObjectID(val) + \"]\";\n            }\n            return val;\n        });\n    }\n    catch (err) {\n        throw new Error('Arguments not serializable -- can not be used to memoize');\n    }\n}\nfunction getOrSet(weakMapOrObject, key, getter) {\n    var isWK = isWeakMap(weakMapOrObject);\n    if (isWK) {\n        if (weakMapOrObject.has(key)) {\n            return weakMapOrObject.get(key);\n        }\n    }\n    else {\n        if (weakMapOrObject.hasOwnProperty(key)) {\n            return weakMapOrObject[key];\n        }\n    }\n    var value = getter();\n    if (isWK) {\n        weakMapOrObject.set(key, value);\n    }\n    else {\n        weakMapOrObject[key] = value;\n    }\n    return value;\n}\nfunction getDefaultMemoizeOptions() {\n    return {};\n}\nexport function memoize(method, options) {\n    if (options === void 0) { options = getDefaultMemoizeOptions(); }\n    var _a = options.thisNamespace, thisNamespace = _a === void 0 ? false : _a, cacheTime = options.time;\n    var simpleCache;\n    var thisCache;\n    var memoizedFunction = function memoizedFunction() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var cache;\n        if (thisNamespace) {\n            thisCache = thisCache || new WeakMap();\n            cache = getOrSet(thisCache, this, getEmptyObject);\n        }\n        else {\n            cache = simpleCache = simpleCache || {};\n        }\n        var cacheKey = serializeArgs(args);\n        var cacheResult = cache[cacheKey];\n        if (cacheResult && cacheTime && Date.now() - cacheResult.time < cacheTime) {\n            delete cache[cacheKey];\n            cacheResult = null;\n        }\n        if (cacheResult) {\n            return cacheResult.value;\n        }\n        var time = Date.now();\n        var value = method.apply(this, arguments);\n        cache[cacheKey] = { time: time, value: value };\n        return value;\n    };\n    memoizedFunction.reset = function () {\n        simpleCache = null;\n        thisCache = null;\n    };\n    var result = memoizedFunction;\n    return setFunctionName(result, (options.name || getFunctionName(method)) + \"::memoized\");\n}\nexport function inlineMemoize(method, logic, args) {\n    if (args === void 0) { args = []; }\n    var cache = (method.__inline_memoize_cache = method.__inline_memoize_cache || {});\n    var key = serializeArgs(args);\n    if (cache.hasOwnProperty(key)) {\n        return cache[key];\n    }\n    var result = (cache[key] = logic.apply(void 0, __spread(args)));\n    return result;\n}\nexport function noop() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n}\nexport function once(method) {\n    var called = false;\n    var onceFunction = function () {\n        if (!called) {\n            called = true;\n            return method.apply(this, arguments);\n        }\n    };\n    return setFunctionName(onceFunction, getFunctionName(method) + \"::once\");\n}\nexport function hashStr(str) {\n    var hash = 0;\n    for (var i = 0; i < str.length; i++) {\n        hash += str[i].charCodeAt(0) * Math.pow((i % 10) + 1, 5);\n    }\n    return Math.floor(Math.pow(Math.sqrt(hash), 5));\n}\nexport function strHashStr(str) {\n    var hash = '';\n    for (var i = 0; i < str.length; i++) {\n        var total = str[i].charCodeAt(0) * i;\n        if (str[i + 1]) {\n            total += str[i + 1].charCodeAt(0) * (i - 1);\n        }\n        hash += String.fromCharCode(97 + (Math.abs(total) % 26));\n    }\n    return hash;\n}\nexport function match(str, pattern) {\n    var regMatch = str.match(pattern);\n    if (regMatch) {\n        return regMatch[0];\n    }\n}\nexport function awaitKey(obj, key) {\n    return new Promise(function (resolve, reject) {\n        var value = obj[key];\n        if (value) {\n            return resolve(value);\n        }\n        delete obj[key];\n        Object.defineProperty(obj, key, {\n            configurable: true,\n            set: function (item) {\n                value = item;\n                if (value) {\n                    resolve(value);\n                }\n            },\n            get: function () {\n                return value;\n            }\n        });\n    });\n}\nexport function stringifyError(err, level) {\n    if (level === void 0) { level = 1; }\n    if (level >= 3) {\n        return 'stringifyError stack overflow';\n    }\n    try {\n        if (!err) {\n            return \"<unknown error: \" + Object.prototype.toString.call(err) + \">\";\n        }\n        if (typeof err === 'string') {\n            return err;\n        }\n        if (err instanceof Error) {\n            var stack = err && err.stack;\n            var message = err && err.message;\n            if (stack && message) {\n                if (stack.indexOf(message) !== -1) {\n                    return stack;\n                }\n                else {\n                    return message + \"\\n\" + stack;\n                }\n            }\n            else if (stack) {\n                return stack;\n            }\n            else if (message) {\n                return message;\n            }\n        }\n        if (err && err.toString && typeof err.toString === 'function') {\n            return err.toString();\n        }\n        return Object.prototype.toString.call(err);\n    }\n    catch (newErr) {\n        return \"Error while stringifying error: \" + stringifyError(newErr, level + 1);\n    }\n}\nexport function stringifyErrorMessage(err) {\n    var defaultMessage = \"<unknown error: \" + Object.prototype.toString.call(err) + \">\";\n    if (!err) {\n        return defaultMessage;\n    }\n    if (err instanceof Error) {\n        return err.message || defaultMessage;\n    }\n    if (typeof err.message === 'string') {\n        return err.message || defaultMessage;\n    }\n    return defaultMessage;\n}\nexport function stringify(item) {\n    if (typeof item === 'string') {\n        return item;\n    }\n    if (item && item.toString && typeof item.toString === 'function') {\n        return item.toString();\n    }\n    return Object.prototype.toString.call(item);\n}\nexport function domainMatches(hostname, domain) {\n    hostname = hostname.split('://')[1];\n    var index = hostname.indexOf(domain);\n    return index !== -1 && hostname.slice(index) === domain;\n}\nexport function patchMethod(obj, name, handler) {\n    var original = obj[name];\n    obj[name] = function patchedMethod() {\n        return handler({\n            context: this,\n            args: Array.prototype.slice.call(arguments),\n            original: original,\n            callOriginal: function () {\n                return original.apply(this, arguments);\n            }\n        });\n    };\n}\nexport function extend(obj, source) {\n    if (!source) {\n        return obj;\n    }\n    if (Object.assign) {\n        return Object.assign(obj, source);\n    }\n    for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\nexport function values(obj) {\n    if (Object.values) {\n        return Object.values(obj);\n    }\n    var result = [];\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            result.push(obj[key]);\n        }\n    }\n    return result;\n}\nexport var memoizedValues = memoize(values);\nexport function perc(pixels, percentage) {\n    return Math.round((pixels * percentage) / 100);\n}\nexport function min() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return Math.min.apply(Math, __spread(args));\n}\nexport function max() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return Math.max.apply(Math, __spread(args));\n}\nexport function roundUp(num, nearest) {\n    var remainder = num % nearest;\n    return remainder ? num - remainder + nearest : num;\n}\nexport function regexMap(str, regexp, handler) {\n    var results = [];\n    str.replace(regexp, function regexMapMatcher(item) {\n        results.push(handler ? handler.apply(null, arguments) : item);\n    });\n    return results;\n}\nexport function svgToBase64(svg) {\n    return \"data:image/svg+xml;base64,\" + base64encode(svg);\n}\nexport function objFilter(obj, filter) {\n    var result = {};\n    for (var key in obj) {\n        if (!obj.hasOwnProperty(key) || !filter(obj[key], key)) {\n            continue;\n        }\n        result[key] = obj[key];\n    }\n    return result;\n}\nexport function identity(item) {\n    return item;\n}\nexport function regexTokenize(text, regexp) {\n    var result = [];\n    text.replace(regexp, function (token) {\n        result.push(token);\n        return '';\n    });\n    return result;\n}\nexport function promisify(fnOrPromise) {\n    var _this = this;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (isPromise(fnOrPromise)) {\n            return fnOrPromise;\n        }\n        return new Promise(function (resolve, reject) {\n            var _a;\n            function customCallback(err) {\n                var results = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    results[_i - 1] = arguments[_i];\n                }\n                if (err) {\n                    return reject(err);\n                }\n                return resolve(results.length === 1 ? results[0] : results);\n            }\n            args.push(customCallback);\n            (_a = fnOrPromise).call.apply(_a, __spread([_this], args));\n        });\n    };\n}\nexport function promiseDebounce(method, delay) {\n    if (delay === void 0) { delay = 50; }\n    var promise;\n    var timeout;\n    var promiseDebounced = function () {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n        var localPromise = (promise =\n            promise ||\n                new Promise(function (resolve, reject) {\n                    timeout = setTimeout(function () {\n                        promise = null;\n                        timeout = null;\n                        promisify(method)()\n                            .then(function (result) {\n                            resolve(result);\n                        })\n                            .catch(function (err) {\n                            reject(err);\n                        });\n                    }, delay);\n                }));\n        return localPromise;\n    };\n    return setFunctionName(promiseDebounced, getFunctionName(method) + \"::promiseDebounced\");\n}\nexport function safeInterval(method, time) {\n    var timeout;\n    function loop() {\n        timeout = setTimeout(function () {\n            method();\n            loop();\n        }, time);\n    }\n    loop();\n    return {\n        cancel: function () {\n            clearTimeout(timeout);\n        }\n    };\n}\nexport function isInteger(str) {\n    return Boolean(str.match(/^[0-9]+$/));\n}\nexport function isFloat(str) {\n    return Boolean(str.match(/^[0-9]+\\.[0-9]+$/));\n}\nexport function serializePrimitive(value) {\n    return value.toString();\n}\nexport function deserializePrimitive(value) {\n    if (value === 'true') {\n        return true;\n    }\n    else if (value === 'false') {\n        return false;\n    }\n    else if (isInteger(value)) {\n        return parseInt(value, 10);\n    }\n    else if (isFloat(value)) {\n        return parseFloat(value);\n    }\n    else {\n        return value;\n    }\n}\nexport function dotify(obj, prefix, newobj) {\n    if (prefix === void 0) { prefix = ''; }\n    if (newobj === void 0) { newobj = {}; }\n    prefix = prefix ? prefix + \".\" : prefix;\n    for (var key in obj) {\n        if (!obj.hasOwnProperty(key) ||\n            obj[key] === undefined ||\n            obj[key] === null ||\n            typeof obj[key] === 'function') {\n            continue;\n        }\n        else if (obj[key] &&\n            Array.isArray(obj[key]) &&\n            obj[key].length &&\n            obj[key].every(function (val) { return typeof val !== 'object'; })) {\n            newobj[\"\" + prefix + key + \"[]\"] = obj[key].join(',');\n        }\n        else if (obj[key] && typeof obj[key] === 'object') {\n            newobj = dotify(obj[key], \"\" + prefix + key, newobj);\n        }\n        else {\n            newobj[\"\" + prefix + key] = serializePrimitive(obj[key]);\n        }\n    }\n    return newobj;\n}\nexport function undotify(obj) {\n    var result = {};\n    for (var key in obj) {\n        if (!obj.hasOwnProperty(key) || typeof obj[key] !== 'string') {\n            continue;\n        }\n        var value = obj[key];\n        if (key.match(/^.+\\[\\]$/)) {\n            key = key.slice(0, -2);\n            value = value.split(',').map(deserializePrimitive);\n        }\n        else {\n            value = deserializePrimitive(value);\n        }\n        var keyResult = result;\n        var parts = key.split('.');\n        for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            var isLast = i + 1 === parts.length;\n            var isIndex = !isLast && isInteger(parts[i + 1]);\n            if (part === 'constructor' || part === 'prototype' || part === '__proto__') {\n                throw new Error(\"Disallowed key: \" + part);\n            }\n            if (isLast) {\n                keyResult[part] = value;\n            }\n            else {\n                keyResult = keyResult[part] = keyResult[part] || (isIndex ? [] : {});\n            }\n        }\n    }\n    return result;\n}\nexport function eventEmitter() {\n    var triggered = {};\n    var handlers = {};\n    return {\n        on: function (eventName, handler) {\n            var handlerList = (handlers[eventName] = handlers[eventName] || []);\n            handlerList.push(handler);\n            var cancelled = false;\n            return {\n                cancel: function () {\n                    if (!cancelled) {\n                        cancelled = true;\n                        handlerList.splice(handlerList.indexOf(handler), 1);\n                    }\n                }\n            };\n        },\n        once: function (eventName, handler) {\n            var listener = this.on(eventName, function () {\n                listener.cancel();\n                handler();\n            });\n            return listener;\n        },\n        trigger: function (eventName) {\n            var e_1, _a;\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var handlerList = handlers[eventName];\n            var promises = [];\n            if (handlerList) {\n                var _loop_1 = function (handler) {\n                    promises.push(new Promise(function (resolve, reject) {\n                        var result = handler.apply(void 0, __spread(args));\n                        resolve(result);\n                    }));\n                };\n                try {\n                    for (var handlerList_1 = __values(handlerList), handlerList_1_1 = handlerList_1.next(); !handlerList_1_1.done; handlerList_1_1 = handlerList_1.next()) {\n                        var handler = handlerList_1_1.value;\n                        _loop_1(handler);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (handlerList_1_1 && !handlerList_1_1.done && (_a = handlerList_1.return)) _a.call(handlerList_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            return Promise.all(promises).then(noop);\n        },\n        triggerOnce: function (eventName) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            if (triggered[eventName]) {\n                return Promise.resolve();\n            }\n            triggered[eventName] = true;\n            return this.trigger.apply(this, __spread([eventName], args));\n        },\n        reset: function () {\n            handlers = {};\n        }\n    };\n}\nexport function camelToDasherize(string) {\n    return string.replace(/([A-Z])/g, function (g) {\n        return \"-\" + g.toLowerCase();\n    });\n}\nexport function dasherizeToCamel(string) {\n    return string.replace(/-([a-z])/g, function (g) {\n        return g[1].toUpperCase();\n    });\n}\nexport function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\nexport function get(item, path, def) {\n    if (!path) {\n        return def;\n    }\n    var pathParts = path.split('.');\n    for (var i = 0; i < pathParts.length; i++) {\n        if (typeof item === 'object' && item !== null) {\n            item = item[pathParts[i]];\n        }\n        else {\n            return def;\n        }\n    }\n    return item === undefined ? def : item;\n}\nexport function safeTimeout(method, delay) {\n    var time = delay;\n    var interval = safeInterval(function () {\n        time -= 100;\n        if (time <= 0) {\n            interval.cancel();\n            method();\n        }\n    }, 100);\n}\nexport function defineLazyProp(obj, key, getter) {\n    if (Array.isArray(obj)) {\n        if (typeof key !== 'number') {\n            throw new TypeError(\"Array key must be number\");\n        }\n    }\n    else if (typeof obj === 'object' && obj !== null) {\n        if (typeof key !== 'string') {\n            throw new TypeError(\"Object key must be string\");\n        }\n    }\n    Object.defineProperty(obj, key, {\n        configurable: true,\n        enumerable: true,\n        get: function () {\n            delete obj[key];\n            var value = getter();\n            obj[key] = value;\n            return value;\n        },\n        set: function (value) {\n            delete obj[key];\n            obj[key] = value;\n        }\n    });\n}\nexport function arrayFrom(item) {\n    return Array.prototype.slice.call(item);\n}\nexport function isObject(item) {\n    return typeof item === 'object' && item !== null;\n}\nexport function isObjectObject(obj) {\n    return isObject(obj) && Object.prototype.toString.call(obj) === '[object Object]';\n}\nexport function isPlainObject(obj) {\n    if (!isObjectObject(obj)) {\n        return false;\n    }\n    var constructor = obj.constructor;\n    if (typeof constructor !== 'function') {\n        return false;\n    }\n    var prototype = constructor.prototype;\n    if (!isObjectObject(prototype)) {\n        return false;\n    }\n    if (!prototype.hasOwnProperty('isPrototypeOf')) {\n        return false;\n    }\n    return true;\n}\nexport function isPromise(item) {\n    try {\n        if (!item) {\n            return false;\n        }\n        if (typeof Promise !== 'undefined' && item instanceof Promise) {\n            return true;\n        }\n        if (typeof window !== 'undefined' &&\n            typeof window.Window === 'function' &&\n            item instanceof window.Window) {\n            return false;\n        }\n        if (typeof window !== 'undefined' &&\n            typeof window.constructor === 'function' &&\n            item instanceof window.constructor) {\n            return false;\n        }\n        var toString_1 = {}.toString;\n        if (toString_1) {\n            var name_1 = toString_1.call(item);\n            if (name_1 === '[object Window]' ||\n                name_1 === '[object global]' ||\n                name_1 === '[object DOMWindow]') {\n                return false;\n            }\n        }\n        if (typeof item.then === 'function') {\n            return true;\n        }\n    }\n    catch (err) {\n        return false;\n    }\n    return false;\n}\nexport function replaceObject(item, replacer, fullKey) {\n    if (fullKey === void 0) { fullKey = ''; }\n    if (Array.isArray(item)) {\n        var length_1 = item.length;\n        var result = [];\n        var _loop_2 = function (i) {\n            defineLazyProp(result, i, function () {\n                var itemKey = fullKey ? fullKey + \".\" + i : \"\" + i;\n                var el = item[i];\n                var child = replacer(el, i, itemKey);\n                if (isPlainObject(child) || Array.isArray(child)) {\n                    child = replaceObject(child, replacer, itemKey);\n                }\n                return child;\n            });\n        };\n        for (var i = 0; i < length_1; i++) {\n            _loop_2(i);\n        }\n        return result;\n    }\n    else if (isPlainObject(item)) {\n        var result = {};\n        var _loop_3 = function (key) {\n            if (!item.hasOwnProperty(key)) {\n                return \"continue\";\n            }\n            defineLazyProp(result, key, function () {\n                var itemKey = fullKey ? fullKey + \".\" + key : \"\" + key;\n                var el = item[key];\n                var child = replacer(el, key, itemKey);\n                if (isPlainObject(child) || Array.isArray(child)) {\n                    child = replaceObject(child, replacer, itemKey);\n                }\n                return child;\n            });\n        };\n        for (var key in item) {\n            _loop_3(key);\n        }\n        return result;\n    }\n    else {\n        throw new Error(\"Pass an object or array\");\n    }\n}\nexport function copyProp(source, target, name, def) {\n    if (source.hasOwnProperty(name)) {\n        var descriptor = Object.getOwnPropertyDescriptor(source, name);\n        Object.defineProperty(target, name, descriptor);\n    }\n    else {\n        target[name] = def;\n    }\n}\nexport function regex(pattern, string, start) {\n    if (start === void 0) { start = 0; }\n    if (typeof pattern === 'string') {\n        pattern = new RegExp(pattern);\n    }\n    var result = string.slice(start).match(pattern);\n    if (!result) {\n        return;\n    }\n    var index = result.index;\n    var regmatch = result[0];\n    return {\n        text: regmatch,\n        groups: result.slice(1),\n        start: start + index,\n        end: start + index + regmatch.length,\n        length: regmatch.length,\n        replace: function (text) {\n            if (!regmatch) {\n                return '';\n            }\n            return \"\" + regmatch.slice(0, start + index) + text + regmatch.slice(index + regmatch.length);\n        }\n    };\n}\nexport function regexAll(pattern, string) {\n    var matches = [];\n    var start = 0;\n    while (true) {\n        var regmatch = regex(pattern, string, start);\n        if (!regmatch) {\n            break;\n        }\n        matches.push(regmatch);\n        start = regmatch.end;\n    }\n    return matches;\n}\nexport function isDefined(value) {\n    return value !== null && value !== undefined;\n}\nexport function cycle(method) {\n    return new Promise(function (resolve, reject) {\n        var result;\n        try {\n            result = method();\n            resolve(result);\n        }\n        catch (err) {\n            reject(err);\n        }\n        cycle(method);\n    });\n}\nexport function debounce(method, time) {\n    if (time === void 0) { time = 100; }\n    var timeout;\n    var debounceWrapper = function () {\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            return method.apply(this, arguments);\n        }, time);\n    };\n    return setFunctionName(debounceWrapper, getFunctionName(method) + \"::debounced\");\n}\nexport function isRegex(regx) {\n    return Object.prototype.toString.call(regx) === '[object RegExp]';\n}\nexport function isWeakMap(wk) {\n    return Object.prototype.toString.call(wk) === '[object WeakMap]';\n}\nexport function getEmptyObject() {\n    return {};\n}\nexport var weakMapMemoize = function (method) {\n    var weakmap = new WeakMap();\n    return function weakmapMemoized(arg) {\n        var _this = this;\n        return getOrSet(weakmap, arg, function () { return method.call(_this, arg); });\n    };\n};\nexport var weakMapMemoizePromise = function (method) {\n    var weakmap = new WeakMap();\n    return function weakmapMemoizedPromise(arg) {\n        var _this = this;\n        return getOrSet(weakmap, arg, function () {\n            return method.call(_this, arg).finally(function () {\n                weakmap.delete(arg);\n            });\n        });\n    };\n};\nexport function cleanup(obj) {\n    var tasks = [];\n    var cleaned = false;\n    var cleanErr;\n    return {\n        set: function (name, item) {\n            if (!cleaned) {\n                obj[name] = item;\n                this.register(function () {\n                    delete obj[name];\n                });\n            }\n            return item;\n        },\n        register: function (method) {\n            if (cleaned) {\n                method(cleanErr);\n            }\n            else {\n                tasks.push(once(function () { return method(cleanErr); }));\n            }\n        },\n        all: function (err) {\n            cleanErr = err;\n            var results = [];\n            cleaned = true;\n            while (tasks.length) {\n                var task = tasks.shift();\n                results.push(task());\n            }\n            return Promise.all(results).then(noop);\n        }\n    };\n}\nexport function tryCatch(fn) {\n    var result;\n    var error;\n    try {\n        result = fn();\n    }\n    catch (err) {\n        error = err;\n    }\n    return { result: result, error: error };\n}\nexport function removeFromArray(arr, item) {\n    var index = arr.indexOf(item);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\nexport function assertExists(name, thing) {\n    if (thing === null || typeof thing === 'undefined') {\n        throw new Error(\"Expected \" + name + \" to be present\");\n    }\n    return thing;\n}\nexport function unique(arr) {\n    var e_2, _a;\n    var result = {};\n    try {\n        for (var arr_1 = __values(arr), arr_1_1 = arr_1.next(); !arr_1_1.done; arr_1_1 = arr_1.next()) {\n            var item = arr_1_1.value;\n            result[item] = true;\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (arr_1_1 && !arr_1_1.done && (_a = arr_1.return)) _a.call(arr_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return Object.keys(result);\n}\nexport var constHas = function (constant, value) {\n    return memoizedValues(constant).indexOf(value) !== -1;\n};\nexport function dedupeErrors(handler) {\n    var seenErrors = [];\n    var seenStringifiedErrors = {};\n    return function (err) {\n        if (seenErrors.indexOf(err) !== -1) {\n            return;\n        }\n        seenErrors.push(err);\n        var stringifiedError = stringifyError(err);\n        if (seenStringifiedErrors[stringifiedError]) {\n            return;\n        }\n        seenStringifiedErrors[stringifiedError] = true;\n        return handler(err);\n    };\n}\nvar ExtendableError = (function (_super) {\n    __extends(ExtendableError, _super);\n    function ExtendableError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.name = _this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(_this, _this.constructor);\n        }\n        else {\n            _this.stack = new Error(message).stack;\n        }\n        return _this;\n    }\n    return ExtendableError;\n}(Error));\nexport { ExtendableError };\n","import { inlineMemoize, memoize } from './util';\nexport function urlEncode(str) {\n    return str.replace(/\\?/g, '%3F').replace(/&/g, '%26').replace(/#/g, '%23').replace(/\\+/g, '%2B');\n}\nexport function isDocumentReady() {\n    return Boolean(document.body) && document.readyState === 'complete';\n}\nexport function isDocumentInteractive() {\n    return Boolean(document.body) && document.readyState === 'interactive';\n}\nexport function waitForWindowReady() {\n    return inlineMemoize(waitForWindowReady, function () {\n        return new Promise(function (resolve) {\n            if (isDocumentReady()) {\n                resolve();\n            }\n            window.addEventListener('load', function () { return resolve(); });\n        });\n    });\n}\nexport var waitForDocumentReady = memoize(function () {\n    return new Promise(function (resolve) {\n        if (isDocumentReady() || isDocumentInteractive()) {\n            return resolve();\n        }\n        var interval = setInterval(function () {\n            if (isDocumentReady() || isDocumentInteractive()) {\n                clearInterval(interval);\n                return resolve();\n            }\n        }, 10);\n    });\n});\nexport function waitForDocumentBody() {\n    return new Promise(function (resolve) {\n        if (document.body) {\n            return resolve(document.body);\n        }\n        return waitForDocumentReady().then(function () {\n            if (document.body) {\n                return resolve(document.body);\n            }\n            throw new Error('Document ready but document.body not present');\n        });\n    });\n}\nexport function htmlEncode(html) {\n    if (html === void 0) { html = ''; }\n    return html\n        .toString()\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F');\n}\n","import { __read, __values } from \"tslib\";\nvar HEADERS = {\n    CONTENT_TYPE: 'content-type',\n    ACCEPT: 'accept'\n};\nvar headerBuilders = [];\nfunction parseHeaders(rawHeaders) {\n    var e_1, _a;\n    if (rawHeaders === void 0) { rawHeaders = ''; }\n    var result = {};\n    try {\n        for (var _b = __values(rawHeaders.trim().split('\\n')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var line = _c.value;\n            var _d = __read(line.split(':')), key = _d[0], values = _d.slice(1);\n            result[key.toLowerCase()] = values.join(':').trim();\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return result;\n}\nexport function request(_a) {\n    var url = _a.url, _b = _a.method, method = _b === void 0 ? 'get' : _b, _c = _a.headers, headers = _c === void 0 ? {} : _c, json = _a.json, data = _a.data, body = _a.body, _d = _a.timeout, timeout = _d === void 0 ? 0 : _d;\n    return new Promise(function (resolve, reject) {\n        var e_2, _a, e_3, _b, e_4, _c;\n        if ((json && data) || (json && body) || (data && json)) {\n            throw new Error(\"Only options.json or options.data or options.body should be passed\");\n        }\n        var normalizedHeaders = {};\n        try {\n            for (var _d = __values(Object.keys(headers)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var key = _e.value;\n                normalizedHeaders[key.toLowerCase()] = headers[key];\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        if (json) {\n            normalizedHeaders[HEADERS.CONTENT_TYPE] =\n                normalizedHeaders[HEADERS.CONTENT_TYPE] || 'application/json';\n        }\n        else if (data || body) {\n            normalizedHeaders[HEADERS.CONTENT_TYPE] =\n                normalizedHeaders[HEADERS.CONTENT_TYPE] ||\n                    'application/x-www-form-urlencoded; charset=utf-8';\n        }\n        normalizedHeaders[HEADERS.ACCEPT] = normalizedHeaders[HEADERS.ACCEPT] || 'application/json';\n        try {\n            for (var headerBuilders_1 = __values(headerBuilders), headerBuilders_1_1 = headerBuilders_1.next(); !headerBuilders_1_1.done; headerBuilders_1_1 = headerBuilders_1.next()) {\n                var headerBuilder = headerBuilders_1_1.value;\n                var builtHeaders = headerBuilder();\n                try {\n                    for (var _f = (e_4 = void 0, __values(Object.keys(builtHeaders))), _g = _f.next(); !_g.done; _g = _f.next()) {\n                        var key = _g.value;\n                        normalizedHeaders[key.toLowerCase()] = builtHeaders[key];\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (_g && !_g.done && (_c = _f.return)) _c.call(_f);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (headerBuilders_1_1 && !headerBuilders_1_1.done && (_b = headerBuilders_1.return)) _b.call(headerBuilders_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        var xhr = new XMLHttpRequest();\n        xhr.addEventListener('load', function xhrLoad() {\n            var responseHeaders = parseHeaders(this.getAllResponseHeaders());\n            if (!this.status) {\n                return reject(new Error(\"Request to \" + method.toLowerCase() + \" \" + url + \" failed: no response status code.\"));\n            }\n            var contentType = responseHeaders['content-type'];\n            var isJSON = contentType &&\n                (contentType.indexOf('application/json') === 0 || contentType.indexOf('text/json') === 0);\n            var responseBody = this.responseText;\n            try {\n                responseBody = JSON.parse(responseBody);\n            }\n            catch (err) {\n                if (isJSON) {\n                    return reject(new Error(\"Invalid json: \" + this.responseText + \".\"));\n                }\n            }\n            var res = {\n                status: this.status,\n                headers: responseHeaders,\n                body: responseBody\n            };\n            return resolve(res);\n        }, false);\n        xhr.addEventListener('error', function (evt) {\n            reject(new Error(\"Request to \" + method.toLowerCase() + \" \" + url + \" failed: \" + evt.toString() + \".\"));\n        }, false);\n        xhr.open(method, url, true);\n        for (var key in normalizedHeaders) {\n            if (normalizedHeaders.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, normalizedHeaders[key]);\n            }\n        }\n        if (json) {\n            body = JSON.stringify(json);\n        }\n        else if (data) {\n            body = Object.keys(data)\n                .map(function (key) {\n                return encodeURIComponent(key) + \"=\" + (data ? encodeURIComponent(data[key]) : '');\n            })\n                .join('&');\n        }\n        xhr.timeout = timeout;\n        xhr.ontimeout = function xhrTimeout() {\n            reject(new Error(\"Request to \" + method.toLowerCase() + \" \" + url + \" has timed out\"));\n        };\n        xhr.send(body);\n    });\n}\nexport function addHeaderBuilder(method) {\n    headerBuilders.push(method);\n}\n"],"names":["getUserAgent","window","navigator","userAgent","isOperaMini","ua","indexOf","isAndroid","test","isIos","isChrome","objectIDs","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__values","o","s","Symbol","iterator","m","i","length","next","value","done","TypeError","__read","n","r","e","ar","push","error","__spread","arguments","concat","getFunctionName","fn","name","__name__","displayName","setFunctionName","err","base64encode","str","btoa","encodeURIComponent","replace","p1","String","fromCharCode","parseInt","Buffer","from","toString","Error","uniqueID","chars","charAt","Math","floor","random","Date","toISOString","slice","toLowerCase","getObjectID","obj","WeakMap","uid","get","set","serializeArgs","args","JSON","stringify","subkey","val","getOrSet","weakMapOrObject","key","getter","isWK","isWeakMap","has","memoize","method","options","simpleCache","thisCache","_a","thisNamespace","cacheTime","time","memoizedFunction","cache","_i","this","getEmptyObject","cacheKey","cacheResult","now","apply","reset","inlineMemoize","logic","__inline_memoize_cache","noop","once","called","stringifyError","level","stack","message","newErr","values","result","memoizedValues","promisify","fnOrPromise","_this","isPromise","Promise","resolve","reject","results","safeInterval","timeout","loop","setTimeout","cancel","clearTimeout","isInteger","Boolean","match","isFloat","serializePrimitive","deserializePrimitive","parseFloat","defineLazyProp","isArray","defineProperty","configurable","enumerable","isObject","item","isObjectObject","isPlainObject","constructor","Window","toString_1","name_1","then","regex","pattern","string","start","RegExp","index","regmatch","text","groups","end","wk","ExtendableError","_super","captureStackTrace","__","create","__extends","isDocumentReady","document","body","readyState","isDocumentInteractive","waitForDocumentReady","interval","setInterval","clearInterval","HEADERS","headerBuilders","thing","atob","decodeURIComponent","map","c","charCodeAt","join","g","toUpperCase","cleanErr","tasks","cleaned","register","all","task","shift","constant","source","target","def","descriptor","getOwnPropertyDescriptor","cycle","handler","seenErrors","seenStringifiedErrors","stringifiedError","hostname","domain","split","dotify","prefix","newobj","undefined","every","triggered","handlers","on","eventName","handlerList","cancelled","splice","listener","trigger","e_1","promises","_loop_1","handlerList_1","handlerList_1_1","e_1_1","return","triggerOnce","assign","path","pathParts","hash","pow","sqrt","html","process","versions","electron","documentMode","mHttp","querySelector","mContent","status_1","status","regx","regMatch","max","min","filter","original","context","callOriginal","pixels","percentage","round","delay","promise","catch","matches","regexp","token","arr","replaceObject","replacer","fullKey","length_1","_loop_2","itemKey","el","child","_loop_3","url","_b","_c","headers","json","data","_d","e_2","e_3","e_4","normalizedHeaders","keys","_e","e_2_1","headerBuilders_1","headerBuilders_1_1","builtHeaders","headerBuilder","_f","_g","e_4_1","e_3_1","xhr","XMLHttpRequest","addEventListener","responseHeaders","rawHeaders","trim","parseHeaders","getAllResponseHeaders","contentType","isJSON","responseBody","responseText","parse","res","evt","open","setRequestHeader","ontimeout","send","num","nearest","remainder","total","abs","defaultMessage","svg","keyResult","parts","part","isLast","isIndex","arr_1","arr_1_1","waitForWindowReady","weakmap","arg","finally","delete"],"mappings":"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"}